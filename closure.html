<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>closure</title>
</head>
<body>
    <!-- <button onclick="myClick()">执行fn1函数</button> -->
    <button>开启定时器</button>
    <script>
        //  function fn1 () {
        //     let a = new Array(10000)  // 这里设置了一个很大的数组对象

        //     let b = 3

        //     function fn2() {
        //         let c = [1, 2, 3]
        //     }

        //     fn2()

        //     return a
        // }

        // let res = []  

        // function myClick() {
        //     res.push(fn1())
        // }

        function fn1() {
            let largeObj = new Array(100000)
            let index = 0

            let timer = setInterval(() => {
                if(index === 3) clearInterval(timer);
                let myObj = largeObj
                index++
            }, 1000)
        }

        document.querySelector('button').addEventListener('click', function() {
            fn1()
        })
    </script>
</body>
</html>